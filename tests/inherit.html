<!DOCTYPE HTML>
<html lang="en">
<head>
    <title>Inherit Demo</title>
    <script src="../bower_components/dom/src/dom.js"></script>
    <script src="../bower_components/on/dist/on.js"></script>
    <script src="../src/create.js"></script>
    <script src="../src/attrs.js"></script>
    <script src="../src/refs.js"></script>
    <script src="../src/template.js"></script>
    <script src="//localhost:35731/livereload.js"></script>
    <style>
    </style>
</head>
<body>
    <h1>Inherit Demo</h1>
    <script>

        create({
            tag: 'base-widget',
            created: function () {
                console.log(' . base-widget.created');
            },

            attached: function () {
                console.log('3. base-widget.attached');
            },

            domReady: function () {
                dom('div', {html:'<strong>base-widget</strong>'}, this);
                //this.base();
            },

            base: function () {
                console.log('BASE', this._uid);
            }
        });

        create({
            tag: 'extend-widget',
            extends: 'base-widget',

            created: function () {
                console.log(' - extend-widget.created');
                //this.super.created();
            },

            Xattached: function () {
                console.log('2. extend-widget.attached');
                this.super('attached');
            },

            domReady: function () {
                dom('div', {html:'<strong>extend-widget</strong>'}, this);
                //this.base();
            },
            extend: function () {
                console.log('EXTEND', this._uid);
            }
        });
        create({
            tag: 'deep-widget',
            extends: 'extend-widget',

            created: function () {
                console.log('[[[deep-widget.created]]]');
                //this.super.created();
            },

            attached: function () {
                // FIXME: If using bare-widget, this gets called twice
                // -- the inheritance code does not know where it is in the proto chain
                console.log('1. deep-widget.attached');
                this.super('attached');
            },

            domReady: function () {
                dom('div', {html:'<strong>deep-widget</strong>'}, this);
                //this.base();
                //this.extend();
            }
        });
        create({
            tag: 'bare-widget',
            extends: 'deep-widget'
        });
    </script>
    <!--<base-widget></base-widget>-->
    <!--<extend-widget></extend-widget>-->
    <!--<deep-widget></deep-widget>-->
    <bare-widget></bare-widget>
</body>
</html>